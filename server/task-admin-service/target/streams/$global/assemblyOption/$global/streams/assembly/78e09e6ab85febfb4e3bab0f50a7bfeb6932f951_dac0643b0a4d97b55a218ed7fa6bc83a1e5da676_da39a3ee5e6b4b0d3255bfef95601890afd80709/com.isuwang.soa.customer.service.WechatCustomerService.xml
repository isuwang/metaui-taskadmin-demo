<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<service namespace="com.isuwang.soa.customer.service" name="WechatCustomerService">
    <meta>
        <version>1.0.0</version>
        <timeout>30000</timeout>
    </meta>
    <methods>
        <method name="findWechatInfoByCondition">
            <doc>根据条件搜索微信用户</doc>
            <request name="findWechatInfoByCondition_args">
                <fields>
                    <field tag="1" name="wechatCondition" optional="false" privacy="false">
                        <dataType>
                            <kind>STRUCT</kind>
                            <ref>com.isuwang.soa.customer.domain.TWechatUserInfoCondition</ref>
                        </dataType>
                        <doc></doc>
                    </field>
                </fields>
            </request>
            <response name="findWechatInfoByCondition_result">
                <fields>
                    <field tag="0" name="success" optional="false" privacy="false">
                        <dataType>
                            <kind>LIST</kind>
                            <valueType>
<kind>STRUCT</kind>
<ref>com.isuwang.soa.customer.domain.TWechatUserInfo</ref>
                            </valueType>
                        </dataType>
                        <doc>根据条件搜索微信用户</doc>
                    </field>
                </fields>
            </response>
            <isSoaTransactionProcess>false</isSoaTransactionProcess>
        </method>
        <method name="saveWechatInfo">
            <doc>保存微信用户信息</doc>
            <request name="saveWechatInfo_args">
                <fields>
                    <field tag="1" name="wechatInfo" optional="false" privacy="false">
                        <dataType>
                            <kind>STRUCT</kind>
                            <ref>com.isuwang.soa.customer.domain.TWechatUserInfo</ref>
                        </dataType>
                        <doc></doc>
                    </field>
                </fields>
            </request>
            <response name="saveWechatInfo_result">
                <fields>
                    <field tag="0" name="success" optional="false" privacy="false">
                        <dataType>
                            <kind>VOID</kind>
                        </dataType>
                        <doc>保存微信用户信息</doc>
                    </field>
                </fields>
            </response>
            <isSoaTransactionProcess>false</isSoaTransactionProcess>
        </method>
        <method name="updateWechatInfo">
            <doc>更新微信用户信息</doc>
            <request name="updateWechatInfo_args">
                <fields>
                    <field tag="1" name="wechatInfo" optional="false" privacy="false">
                        <dataType>
                            <kind>STRUCT</kind>
                            <ref>com.isuwang.soa.customer.domain.TWechatUserInfo</ref>
                        </dataType>
                        <doc></doc>
                    </field>
                </fields>
            </request>
            <response name="updateWechatInfo_result">
                <fields>
                    <field tag="0" name="success" optional="false" privacy="false">
                        <dataType>
                            <kind>VOID</kind>
                        </dataType>
                        <doc>更新微信用户信息</doc>
                    </field>
                </fields>
            </response>
            <isSoaTransactionProcess>false</isSoaTransactionProcess>
        </method>
        <method name="onBinlogMessage">
            <doc>binlog解绑微信用户</doc>
            <request name="onBinlogMessage_args">
                <fields>
                    <field tag="1" name="message" optional="false" privacy="false">
                        <dataType>
                            <kind>BINARY</kind>
                        </dataType>
                        <doc></doc>
                    </field>
                </fields>
            </request>
            <response name="onBinlogMessage_result">
                <fields>
                    <field tag="0" name="success" optional="false" privacy="false">
                        <dataType>
                            <kind>VOID</kind>
                        </dataType>
                        <doc>binlog解绑微信用户</doc>
                    </field>
                </fields>
            </response>
            <isSoaTransactionProcess>false</isSoaTransactionProcess>
        </method>
    </methods>
    <structs>
        <struct namespace="com.isuwang.soa.customer.domain" name="TWechatUserInfoCondition">
            <fields>
                <field tag="1" name="id" optional="true" privacy="false">
                    <dataType>
                        <kind>INTEGER</kind>
                    </dataType>
                    <doc>id</doc>
                </field>
                <field tag="2" name="customerId" optional="true" privacy="false">
                    <dataType>
                        <kind>INTEGER</kind>
                    </dataType>
                    <doc>crm.customers表id</doc>
                </field>
                <field tag="3" name="openId" optional="true" privacy="false">
                    <dataType>
                        <kind>STRING</kind>
                    </dataType>
                    <doc>微信用户唯一标识</doc>
                </field>
                <field tag="4" name="accessToken" optional="true" privacy="false">
                    <dataType>
                        <kind>STRING</kind>
                    </dataType>
                    <doc>微信网页授权接口调用凭证</doc>
                </field>
                <field tag="5" name="accessTokenMd5" optional="true" privacy="false">
                    <dataType>
                        <kind>STRING</kind>
                    </dataType>
                    <doc>access_token+timestamp经过md5处理后的串</doc>
                </field>
                <field tag="6" name="refreshToken" optional="true" privacy="false">
                    <dataType>
                        <kind>STRING</kind>
                    </dataType>
                    <doc>用户刷新access_token</doc>
                </field>
                <field tag="7" name="nickname" optional="true" privacy="false">
                    <dataType>
                        <kind>STRING</kind>
                    </dataType>
                    <doc>用户昵称</doc>
                </field>
                <field tag="8" name="sex" optional="true" privacy="false">
                    <dataType>
                        <kind>INTEGER</kind>
                    </dataType>
                    <doc>性别</doc>
                </field>
                <field tag="9" name="province" optional="true" privacy="false">
                    <dataType>
                        <kind>STRING</kind>
                    </dataType>
                </field>
                <field tag="10" name="city" optional="true" privacy="false">
                    <dataType>
                        <kind>STRING</kind>
                    </dataType>
                    <doc>城市</doc>
                </field>
                <field tag="11" name="headImgUrl" optional="true" privacy="false">
                    <dataType>
                        <kind>STRING</kind>
                    </dataType>
                    <doc>用户头像url</doc>
                </field>
                <field tag="12" name="privilege" optional="true" privacy="false">
                    <dataType>
                        <kind>STRING</kind>
                    </dataType>
                    <doc>用户特权信息</doc>
                </field>
                <field tag="13" name="unionId" optional="true" privacy="false">
                    <dataType>
                        <kind>STRING</kind>
                    </dataType>
                    <doc>只有在用户将公众号绑定到微信开放平台帐号后，才会出现该字段</doc>
                </field>
                <field tag="14" name="isValid" optional="true" privacy="false">
                    <dataType>
                        <kind>INTEGER</kind>
                    </dataType>
                    <doc>'是否有效，0：否；1：是；',</doc>
                </field>
                <field tag="15" name="createdBy" optional="true" privacy="false">
                    <dataType>
                        <kind>INTEGER</kind>
                    </dataType>
                    <doc>创建人</doc>
                </field>
                <field tag="16" name="createdAt" optional="true" privacy="false">
                    <dataType>
                        <kind>LONG</kind>
                    </dataType>
                    <doc>创建时间</doc>
                </field>
                <field tag="17" name="updatedBy" optional="true" privacy="false">
                    <dataType>
                        <kind>INTEGER</kind>
                    </dataType>
                </field>
                <field tag="18" name="updatedAt" optional="true" privacy="false">
                    <dataType>
                        <kind>LONG</kind>
                    </dataType>
                </field>
            </fields>
        </struct>
        <struct namespace="com.isuwang.soa.customer.domain" name="TWechatUserInfo">
            <fields>
                <field tag="1" name="id" optional="false" privacy="false">
                    <dataType>
                        <kind>INTEGER</kind>
                    </dataType>
                    <doc>id</doc>
                </field>
                <field tag="2" name="customerId" optional="false" privacy="false">
                    <dataType>
                        <kind>INTEGER</kind>
                    </dataType>
                    <doc>crm.customers表id</doc>
                </field>
                <field tag="3" name="openId" optional="false" privacy="false">
                    <dataType>
                        <kind>STRING</kind>
                    </dataType>
                    <doc>微信用户唯一标识</doc>
                </field>
                <field tag="4" name="accessToken" optional="false" privacy="false">
                    <dataType>
                        <kind>STRING</kind>
                    </dataType>
                    <doc>微信网页授权接口调用凭证</doc>
                </field>
                <field tag="5" name="accessTokenMd5" optional="false" privacy="false">
                    <dataType>
                        <kind>STRING</kind>
                    </dataType>
                    <doc>access_token+timestamp经过md5处理后的串</doc>
                </field>
                <field tag="6" name="refreshToken" optional="false" privacy="false">
                    <dataType>
                        <kind>STRING</kind>
                    </dataType>
                    <doc>用户刷新access_token</doc>
                </field>
                <field tag="7" name="nickname" optional="true" privacy="false">
                    <dataType>
                        <kind>STRING</kind>
                    </dataType>
                    <doc>用户昵称</doc>
                </field>
                <field tag="8" name="sex" optional="true" privacy="false">
                    <dataType>
                        <kind>INTEGER</kind>
                    </dataType>
                    <doc>性别</doc>
                </field>
                <field tag="9" name="province" optional="true" privacy="false">
                    <dataType>
                        <kind>STRING</kind>
                    </dataType>
                </field>
                <field tag="10" name="city" optional="true" privacy="false">
                    <dataType>
                        <kind>STRING</kind>
                    </dataType>
                    <doc>城市</doc>
                </field>
                <field tag="11" name="headImgUrl" optional="true" privacy="false">
                    <dataType>
                        <kind>STRING</kind>
                    </dataType>
                    <doc>用户头像url</doc>
                </field>
                <field tag="12" name="privilege" optional="true" privacy="false">
                    <dataType>
                        <kind>STRING</kind>
                    </dataType>
                    <doc>用户特权信息</doc>
                </field>
                <field tag="13" name="unionId" optional="true" privacy="false">
                    <dataType>
                        <kind>STRING</kind>
                    </dataType>
                    <doc>只有在用户将公众号绑定到微信开放平台帐号后，才会出现该字段</doc>
                </field>
                <field tag="14" name="isValid" optional="true" privacy="false">
                    <dataType>
                        <kind>INTEGER</kind>
                    </dataType>
                    <doc>'是否有效，0：否；1：是；',</doc>
                </field>
                <field tag="15" name="createdBy" optional="true" privacy="false">
                    <dataType>
                        <kind>INTEGER</kind>
                    </dataType>
                    <doc>创建人</doc>
                </field>
                <field tag="16" name="createdAt" optional="true" privacy="false">
                    <dataType>
                        <kind>LONG</kind>
                    </dataType>
                    <doc>创建时间</doc>
                </field>
                <field tag="17" name="updatedBy" optional="true" privacy="false">
                    <dataType>
                        <kind>INTEGER</kind>
                    </dataType>
                </field>
                <field tag="18" name="updatedAt" optional="true" privacy="false">
                    <dataType>
                        <kind>LONG</kind>
                    </dataType>
                </field>
            </fields>
        </struct>
    </structs>
    <enums/>
</service>
